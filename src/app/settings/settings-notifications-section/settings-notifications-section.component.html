<app-settings-section
  [title]="settingsText.NotificationsSectionTitle | translate"
>
  <ion-list lines="none">
    <div class="settings-toggle-row">
      <div class="settings-toggle-label">
        <h3>{{ settingsText.NotificationsDailyToggleLabel | translate }}</h3>
      </div>
      <div class="toggle-wrapper">
        <ion-toggle
          color="primary"
          [checked]="notificationsEnabled"
          (ionChange)="notificationsToggleChange.emit($event.detail.checked)"
        ></ion-toggle>
      </div>
    </div>

    <div class="settings-toggle-row">
      <div class="settings-toggle-label">
        <h3>{{ settingsText.NotificationsDaysLabel | translate }}</h3>
      </div>
      <div class="weekdays-chips">
        <ion-chip
          *ngFor="let d of weekdayOptions"
          class="weekday-chip"
          [ngClass]="{ 'weekday-chip--selected': isWeekdaySelected(d.value) }"
          (click)="toggleWeekday(d.value)"
        >
          <ion-label>{{ d.labelKey | translate }}</ion-label>
        </ion-chip>
      </div>
    </div>

    <div class="settings-toggle-row">
      <div class="settings-toggle-label">
        <h3>{{ settingsText.NotificationsTimeLabel | translate }}</h3>
      </div>
      <div class="time-picker-wrapper">
        <ion-datetime-button datetime="timePicker"></ion-datetime-button>
      </div>
    </div>
  </ion-list>

  <ion-modal [keepContentsMounted]="true">
    <ng-template>
      <ion-datetime
        id="timePicker"
        presentation="time"
        [value]="notificationTime"
        (ionChange)="timeChanged.emit($event.detail.value)"
      ></ion-datetime>
    </ng-template>
  </ion-modal>
</app-settings-section>

